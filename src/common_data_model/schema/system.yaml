id: https://w3id.org/altium/cdm/system/
name: system
prefixes:
  linkml: https://w3id.org/linkml/
  sys: https://w3id.org/altium/cdm/system/

imports:
  - linkml:types

default_range: string
default_prefix: sys

subsets:
  system:
    title: System Design
    description: >-
      Facilitates high-level design planning by defining system architecture, functional relationships, and design constraints. 
      It helps engineers structure complex projects by integrating requirements management with schematic and PCB design workflows within Altium 365.
    annotations:
      style: "fill:#f1c232"

enums:

  system_PortType:
    is_a: Enumeration
    in_subset: system
    enum_uri: sys:PortType
    implements:
      - owl:NamedIndividual
    permissible_values:
      UART:
      GPIO:
      I2C:
      PWM:
      ADC:
      SPI:
      CAN:
      USB:
      DAC:
      DISPLAY:
      ETHERNET:
      IRQ:
      CAMERA:
      AUDIO:
      CD/MMC:
      # ???
      POWER_MCU:

classes:

  system_ESDDocument:
    is_a: Activity
    in_subset: system
    class_uri: sys:ESDDocument
    title: ESD Document
    description: TBD
    annotations:
      grid: grid:workspace:{workspace-id}:system-design:esd/{id}
      platformAPI: SysEsdDocument
    mixins:
      - SolutionItem
    slots:
      - system_parameters
      - system_ESDDocument_functionalBlocks
      - system_ESDDocument_connections

  system_FunctionalBlock:
    is_a: Resource
    in_subset: system 
    class_uri: sys:FunctionalBlock
    title: Functional Block
    description: >-
      Represents a logical block within a PCB design (e.g., MCU subsystem, LED driver block), including parameters, 
      key components, ports, and associations.
    slots:
      - core_localId
      - core_name
      - core_implementedBy
      - system_parameters
      - system_FunctionalBlock_portAssociations
      - system_FunctionalBlock_ports
      - system_FunctionalBlock_keyComponents
      - system_FunctionalBlock_softwareComponents
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: des_project
          - range: sft_software_project
      system_FunctionalBlock_portAssociations:
        inlined: true
        inlined_as_list: true

  system_Port:
    is_a: Resource
    in_subset: system 
    class_uri: sys:Port
    title: Port
    description: TBD
    slots:
      - core_localId
      - core_name
      - system_parameters
      - system_Port_association

  system_KeyComponent:
    is_a: Resource
    in_subset: system
    class_uri: sys:KeyComponent
    title: Key Component
    description: TBD
    slots:
      - core_localId
      - core_name
      - system_parameters
      - system_KeyComponent_softwareComponents

  system_SoftwareComponent:
    is_a: Resource
    in_subset: system
    class_uri: sys:SoftwareComponent
    title: Software Component
    description: Functional in nature, abstracted from but connected to logical implementation. 
    slots:
      - core_localId
      - core_name
      - system_parameters
      - system_SoftwareComponent_portAssociations
      - system_SoftwareComponent_keyComponent
    slot_usage:
      system_SoftwareComponent_portAssociations:
        inlined: false

  system_PortAssociation:
    is_a: Resource
    in_subset: system
    class_uri: sys:PortAssociation
    title: Port Association
    description: TBD
    slots:
      - core_localId
      - system_PortAssociation_port
      - system_PortAssociation_softwareComponent
      - system_PortAssociation_portType


  system_Connection:
    is_a: Resource
    in_subset: system
    class_uri: sys:Connection
    title: Connection
    description: >-
      TBD
    slots:
      - core_localId
      - core_name
      - system_parameters
      - system_Connection_endpoints

  system_Endpoint:
    is_a: Resource
    in_subset: system
    class_uri: sys:Connection
    title: Connection
    description: >-
      TBD
    slots:
      - system_Endpoint_functionalBlock
      - system_Endpoint_port
      
  system_Parameter:
    is_a: Resource
    in_subset: system
    class_uri: sys:Parameter
    title: Parameter
    description: >-
      Nameâ€“value parameter associated with functional blocks, ports, or other system design resources.
    attributes:
      system_Parameter_value:
        alias: value
        title: value
        range: string
        required: true
    slots:
      - core_localId
      - core_name

  system_SoftwareProject:
    is_a: Resource
    in_subset: system
    class_uri: sys:SoftwareProject
    title: Software Project
    description: TBD
    slots:
      - core_localId
      - core_implementedBy
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: sft_software_project

  system_Sim:
    is_a: Artifact
    in_subset: system
    class_uri: sys:SystemInformationModel
    title: System Information Model
    annotations:
      platformAPI: SysSystemInformationModel
      grid: grid:workspace:{workspace-id}:system-design:sim/{id}
    description: >-
      The System Information Model (SIM) is a high-level abstraction layer that provides a unified, 
      system-centric view of objects derived from multiple independent domains 
      (e.g., Electronic Systems Design, Software, Hardware).
      Rather than forcing every domain to understand the internal data structures of every other domain, 
      the SIM establishes a canonical representation. Each participating domain maintains a mapping layer 
      that translates its local objects into this shared system-level format.
    slots:
      - system_Sim_functionalModel
      - system_Sim_deviceModels
      - system_Sim_softwareModels

slots:

  system_Sim_functionalModel:
    alias: functionalModel
    title: functional model
    range: system_ESDDocument
    required: false
    inlined: true
  system_Sim_deviceModels:
    alias: deviceModels
    title: device models
    range: dm_configured_device_model
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true
  system_Sim_softwareModels:
    alias: softwareModels
    title: software models
    range: sft_software_bom
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true

  system_ESDDocument_functionalBlocks:
    slot_uri: sys:ESDDocument_functionalBlocks
    alias: functionalBlocks
    title: functional blocks
    description: TBD
    range: system_FunctionalBlock
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true
  system_ESDDocument_connections:
    slot_uri: sys:ESDDocument_connections
    alias: connections
    title: connections
    range: system_Connection
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true

  system_FunctionalBlock_ports:  
    slot_uri: sys:FunctionalBlock_ports
    alias: ports
    title: ports
    range: system_Port
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true
  system_FunctionalBlock_keyComponents:
    slot_uri: sys:FunctionalBlock_keyComponents
    alias: keyComponents
    title: key components
    range: system_KeyComponent
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true
  system_FunctionalBlock_softwareComponents:
    slot_uri: sys:FunctionalBlock_softwareComponents
    alias: softwareComponents
    title: software components
    range: system_SoftwareComponent
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true
  system_FunctionalBlock_portAssociations:
    slot_uri: sys:FunctionalBlock_portAssociations
    alias: portsAssociations
    title: ports associations
    range: system_PortAssociation
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true

  system_SoftwareComponent_keyComponent:
    slot_uri: sys:SoftwareComponent_keyComponent
    alias: parentKeyComponentId
    title: key component
    range: system_KeyComponent
    required: true
    multivalued: false
  system_SoftwareComponent_portAssociations:
    slot_uri: sys:SoftwareComponent_portAssociations
    alias: portsAssociationsIds
    title: port associations
    range: system_PortAssociation
    required: false
    multivalued: true

  system_KeyComponent_softwareComponents:
    slot_uri: sys:KeyComponent_softwareComponents
    alias: childSoftwareComponentsIds
    title: software components
    range: system_SoftwareComponent
    required: false
    multivalued: true

  system_PortAssociation_port:
    slot_uri: sys:PortAssociation_port
    alias: portId
    title: port
    range: system_Port
    required: true
    multivalued: false
  system_PortAssociation_softwareComponent:
    slot_uri: sys:PortAssociation_softwareComponent
    alias: softwareComponentId
    title: software component
    range: system_SoftwareComponent
    required: true
    multivalued: false
  system_PortAssociation_portType:
    slot_uri: sys:PortAssociation_portType
    alias: portLibraryName
    title: port type
    range: system_PortType
    required: true
    multivalued: false

  system_Port_association:
    slot_uri: sys:Port_association
    alias: associationId
    title: association
    range: system_PortAssociation
    multivalued: false
    required: false
    inlined: false

  system_Connection_endpoints:
    slot_uri: sys:Connection_endpoints
    alias: endpoints
    title: endpoints
    range: system_Endpoint
    required: true
    multivalued: true

  system_Endpoint_functionalBlock:
    slot_uri: sys:Endpoint_functionalBlock
    alias: functionalBlockId
    title: functional block
    range: system_FunctionalBlock
    required: true
    multivalued: false

  system_Endpoint_port:
    slot_uri: sys:Endpoint_port
    alias: portId
    title: port
    range: system_Port
    required: true
    multivalued: false

  system_parameters:
    slot_uri: sys:parameters
    alias: parameters
    title: parameters
    description: TBD
    range: system_Parameter
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true