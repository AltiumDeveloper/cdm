id: https://w3id.org/altium/cdm/system/
name: system
prefixes:
  linkml: https://w3id.org/linkml/
  sys: https://w3id.org/altium/cdm/system/

imports:
  - linkml:types

default_range: string
default_prefix: sys

subsets:
  system:
    title: System Design
    description: >-
      Facilitates high-level design planning by defining system architecture, functional relationships, and design constraints. 
      It helps engineers structure complex projects by integrating requirements management with schematic and PCB design workflows within Altium 365.
    annotations:
      style: "fill:#f1c232"
  system-sdm:
    title: System Design - System Data Model
    description: TBD
    annotations:
      style: "fill:#f1c232"

enums:

  system_PortType:
    is_a: Enumeration
    in_subset: system
    enum_uri: sys:PortType
    implements:
      - owl:NamedIndividual
    permissible_values:
      UART:
      GPIO:
      I2C:
      PWM:
      ADC:
      SPI:
      CAN:
      USB:
      DAC:
      DISPLAY:
      ETHERNET:
      IRQ:
      CAMERA:
      AUDIO:
      CD/MMC:
      # ???
      POWER_MCU:

  system_SmSoftwareComponentCategory:
    description: High-level classification of software components.
    permissible_values:
      DRIVER:
        description: Low-level HAL/drivers interacting with hardware.
      MIDDLEWARE:
        description: Functional stacks (e.g., Motor Control, USB, TCP/IP).
      OPERATING_SYSTEM:
        description: Kernel or RTOS components.
      APPLICATION:
        description: High-level logic, AI models, or user-defined code.
      LIBRARY:
        description: Static utility code or mathematical libraries.

classes:

  system_ESDDocument:
    is_a: Activity
    in_subset: system
    class_uri: sys:ESDDocument
    title: ESD Document
    description: TBD
    annotations:
      grid: grid:workspace:{workspace-id}:system-design:esd/{id}
      platformAPI: SysEsdDocument
    mixins:
      - SolutionItem
    slots:
      - system_parameters
    attributes:
      system_ESDDocument_functionalBlocks:
        slot_uri: sys:ESDDocument_functionalBlocks
        alias: functionalBlocks
        title: functional blocks
        description: TBD
        range: system_FunctionalBlock
        multivalued: true
        required: false
        inlined: true
        inlined_as_list: true
      system_ESDDocument_connections:
        slot_uri: sys:ESDDocument_connections
        alias: connections
        title: connections
        range: system_Connection
        multivalued: true
        required: false
        inlined: true
        inlined_as_list: true
      system_ESDDocument_hardwareProjects:
        alias: hardwareProjects
        title: hardware projects
        description: Hardware projects associated with this ESD document.
        range: system_HardwareProject
        multivalued: true
        inlined: true
        inlined_as_list: true
      system_ESDDocument_softwareProjects:
        alias: softwareProjects
        title: software projects
        description: Software projects associated with this ESD document.
        range: system_SoftwareProject
        multivalued: true
        inlined: true
        inlined_as_list: true

  system_FunctionalBlock:
    is_a: Resource
    in_subset: system
    class_uri: sys:FunctionalBlock
    title: Functional Block
    description: >-
      Represents a logical block within a PCB design (e.g., MCU subsystem, LED driver block), including parameters, 
      key components, ports, and associations.
    slots:
      - core_localId
      - core_name
      - core_implementedBy
      - system_parameters
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: des_project
          - range: sft_software_project
    attributes:
      system_FunctionalBlock_ports:
        slot_uri: sys:FunctionalBlock_ports
        alias: ports
        title: ports
        range: system_Port
        multivalued: true
        required: false
        inlined: true
        inlined_as_list: true
      system_FunctionalBlock_keyComponents:
        slot_uri: sys:FunctionalBlock_keyComponents
        alias: keyComponents
        title: key components
        range: system_KeyComponent
        multivalued: true
        required: false
        inlined: true
        inlined_as_list: true
      system_FunctionalBlock_softwareComponents:
        slot_uri: sys:FunctionalBlock_softwareComponents
        alias: softwareComponents
        title: software components
        range: system_SoftwareComponent
        multivalued: true
        required: false
        inlined: true
        inlined_as_list: true
      system_FunctionalBlock_portAssociations:
        slot_uri: sys:FunctionalBlock_portAssociations
        alias: portsAssociations
        title: ports associations
        range: system_PortAssociation
        multivalued: true
        required: false
        inlined: true
        inlined_as_list: true


  system_Port:
    is_a: Resource
    in_subset: system
    class_uri: sys:Port
    title: Port
    description: TBD
    slots:
      - core_localId
      - core_name
      - system_parameters
    attributes:
      system_Port_association:
        slot_uri: sys:Port_association
        alias: associationId
        title: association
        range: system_PortAssociation
        multivalued: false
        required: false
        inlined: false

  system_KeyComponent:
    is_a: Resource
    in_subset: system
    class_uri: sys:KeyComponent
    title: Key Component
    description: TBD
    slots:
      - core_localId
      - core_name
      - system_parameters
    attributes:
      system_KeyComponent_softwareComponents:
        slot_uri: sys:KeyComponent_softwareComponents
        alias: childSoftwareComponentsIds
        title: software components
        range: system_SoftwareComponent
        required: false
        multivalued: true

  system_SoftwareComponent:
    is_a: Resource
    in_subset: system
    class_uri: sys:SoftwareComponent
    title: Software Component
    description: Functional in nature, abstracted from but connected to logical implementation.
    slots:
      - core_localId
      - core_name
      - system_parameters
    attributes:
      system_SoftwareComponent_keyComponent:
        slot_uri: sys:SoftwareComponent_keyComponent
        alias: parentKeyComponentId
        title: key component
        range: system_KeyComponent
        required: true
        multivalued: false
      system_SoftwareComponent_portAssociations:
        slot_uri: sys:SoftwareComponent_portAssociations
        alias: portsAssociationsIds
        title: port associations
        range: system_PortAssociation
        required: false
        multivalued: true

  system_PortAssociation:
    is_a: Resource
    in_subset: system
    class_uri: sys:PortAssociation
    title: Port Association
    description: TBD
    slots:
      - core_localId
    attributes:
      system_PortAssociation_port:
        slot_uri: sys:PortAssociation_port
        alias: portId
        title: port
        range: system_Port
        required: true
        multivalued: false
      system_PortAssociation_softwareComponent:
        slot_uri: sys:PortAssociation_softwareComponent
        alias: softwareComponentId
        title: software component
        range: system_SoftwareComponent
        required: true
        multivalued: false
      system_PortAssociation_portType:
        slot_uri: sys:PortAssociation_portType
        alias: portLibraryName
        title: port type
        range: system_PortType
        required: true
        multivalued: false

  system_Connection:
    is_a: Resource
    in_subset: system
    class_uri: sys:Connection
    title: Connection
    description: >-
      TBD
    slots:
      - core_localId
      - core_name
      - system_parameters
    attributes:
      system_Connection_endpoints:
        slot_uri: sys:Connection_endpoints
        alias: endpoints
        title: endpoints
        range: system_Endpoint
        required: true
        multivalued: true

  system_Endpoint:
    is_a: Resource
    in_subset: system
    class_uri: sys:Connection
    title: Connection
    description: >-
      TBD
    attributes:
      system_Endpoint_functionalBlock:
        slot_uri: sys:Endpoint_functionalBlock
        alias: functionalBlockId
        title: functional block
        range: system_FunctionalBlock
        required: true
        multivalued: false
      system_Endpoint_port:
        slot_uri: sys:Endpoint_port
        alias: portId
        title: port
        range: system_Port
        required: true
        multivalued: false

  system_Parameter:
    is_a: Resource
    in_subset: system
    class_uri: sys:Parameter
    title: Parameter
    description: >-
      Nameâ€“value parameter associated with functional blocks, ports, or other system design resources.
    attributes:
      system_Parameter_value:
        alias: value
        title: value
        range: string
        required: true
    slots:
      - core_localId
      - core_name

  system_SoftwareProject:
    is_a: Resource
    in_subset: system
    class_uri: sys:SoftwareProject
    title: Software Project
    description: TBD
    slots:
      - core_localId
      - core_implementedBy
    attributes:
      system_SoftwareProject_softwareComponents:
        alias: softwareComponents
        title: software components
        description: Software components associated with this software project.
        range: system_SoftwareComponent
        multivalued: true
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: sft_software_project

  system_HardwareProject:
    is_a: Resource
    in_subset: system
    class_uri: sys:HardwareProject
    title: Hardware Project
    description: TBD
    slots:
      - core_localId
      - core_implementedBy
    attributes:
      system_HardwareProject_hardwareComponents:
        alias: functionalBlocks
        title: functional blocks
        description: Functional blocks associated with this hardware project.
        range: system_FunctionalBlock
        multivalued: true
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: des_project

  # System Data Model (SDM)
  system_SmMappableEntity:
    is_a: Meta
    abstract: true
    mixin: true
    class_uri: dm:SmEntity
    description: >-
      A mixin for entities within the System Data Model (SDM) that are mappable to domain-specific concepts
    slots:
      core_localId
    attributes:
      system_SmMappableEntity_metadata:
        alias: metadata
        title: metadata
        description: Client-specific metadata associated with this entity.
        range: system_SmClientMetadata
        multivalued: true
        inlined: true
        inlined_as_list: true
  system_SmClientMetadata:
    is_a: Resource
    in_subset: system-sdm
    class_uri: dm:SmClientMetadata
    title: Domain Metadata
    description: >-
      Captures metadata specific to a particular client (e.g., ESD, AD, E2Studio).
    slots:
      - system_parameters
    attributes:
      system_SmClientMetadata_clientId:
        alias: clientId
        title: client id
        description: The client identifier (e.g., "ESD", "AD", "E2Studio") this metadata are associated with.
        range: string
        required: true

  system_SystemModel:
    is_a: Artifact
    in_subset: system-sdm
    class_uri: sys:SystemModel
    title: System  Model
    annotations:
      platformAPI: SysSystemModel
      grid: grid:workspace:{workspace-id}:system-design:system-model/{id}
    description: >-
      A high-level system model that captures the overall system architecture, crossing boundary between 
      functional and logical domains (e.g., hardware and software).
    slots:
      - core_name
    attributes:
      system_SystemModel_functionalModel:
        alias: functionalModel
        title: functional model
        description: A functional model associated with the system model.
        range: system_SmFunctionalModel
        required: false
        inlined: true
      system_SystemModel_deviceModels:
        alias: deviceModels
        title: device models
        description: A device models associated with this system model.
        range: system_SmDeviceModel
        multivalued: true
        inlined: true
        inlined_as_list: true
      system_SystemModel_softwareModels:
        alias: softwareModels
        title: software models
        description: A software models associated with this system model.
        range: system_SmSoftwareModel
        multivalued: true
        inlined: true
        inlined_as_list: true
      system_SystemModel_hardwareModels:
        alias: hardwareModels
        title: hardware models
        description: A hardware models associated with this system model.
        range: system_SmHardwareModel
        multivalued: true
        inlined: true
        inlined_as_list: true

  # SDM: Functional Model
  system_SmFunctionalModel:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmFunctionalModel
    title: Functional Model
    annotations:
      platformAPI: SysSmFunctionalModel
    description: >-
      Captures the functional aspects of the system design, focusing on the behavior and interactions of functional blocks.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - core_implementedBy
    attributes:
      system_SmFunctionalModel_functionalBlocks:
        alias: functionalBlocks
        title: functional blocks
        description: Functional blocks that make up this functional model.
        range: system_SmFunctionalBlock
        multivalued: true
        inlined: true
        inlined_as_list: true
      system_SmFunctionalModel_connections:
        alias: connections
        title: connections
        description: Connections between functional blocks in this functional model.
        range: system_SmConnection
        multivalued: true
        inlined: true
        inlined_as_list: true
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: system_ESDDocument
  system_SmFunctionalBlock:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmFunctionalBlock
    title: Functional Block
    annotations:
      platformAPI: SysSmFunctionalBlock
    description: >-
      Represents a logical block within a system functional model.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - system_parameters
    attributes:
      system_SmFunctionalBlock_hardwareComponents:
        alias: hardwareComponentIds
        title: hardware components
        description: Hardware components associated with this functional block.
        range: system_SmHardwareComponent
        multivalued: true
      system_SmFunctionalBlock_ports:
        alias: ports
        title: ports
        description: Ports associated with this functional block.
        range: system_SmPort
        multivalued: true
        inlined: true
        inlined_as_list: true
  system_SmPort:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmPort
    title: Port
    annotations:
      platformAPI: SysSmPort
    description: >-
      Represents a port within a system design.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - system_parameters
    attributes:
      system_SmPort_hardwareComponent:
        alias: hardwareComponentId
        title: hardware component
        description: The hardware component associated with this port.
        range: system_SmHardwareComponent
        required: false
      system_SmPort_softwareComponent:
        alias: softwareComponentId
        title: software component
        description: The software component associated with this port.
        range: system_SmSoftwareComponent
        required: false
      system_SmPort_peripheralInstance:
        alias: peripheralInstanceId
        title: peripheral instance
        description: The peripheral instance associated with this port.
        range: dm_peripheral_instance
        required: false
  system_SmConnection:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmConnection
    title: Connection
    annotations:
      platformAPI: SysSmConnection
    description: >-
      Represents a connection between functional blocks.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - system_parameters
    attributes:
      system_SmConnection_endpoints:
        alias: endpoints
        title: endpoints
        description: Endpoints of the connection.
        range: system_SmEndpoint
        multivalued: true
        inlined: true
        inlined_as_list: true
  system_SmEndpoint:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmEndpoint
    title: Endpoint
    annotations:
      platformAPI: SysSmEndpoint
    description: >-
      Represents an endpoint of a connection.
    attributes:
      system_SmEndpoint_functionalBlock:
        alias: functionalBlockId
        title: functional block
        description: Functional block associated with this endpoint.
        range: system_SmFunctionalBlock
        required: true
      system_SmEndpoint_port:
        alias: portId
        title: port
        description: Port associated with this endpoint.
        range: system_SmPort
        required: true

  # SDM: Device Model
  system_SmDeviceModel:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmDeviceModel
    title: Device Model
    annotations:
      platformAPI: SysSmDeviceModel
    description: >-
      Represents a device model within the system design.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_localId
      - dm_mpn
      - dm_peripherals
      - dm_ports

  # SDM: Software Model
  system_SmSoftwareModel:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmSoftwareModel
    title: Software Model
    annotations:
      platformAPI: SysSmSoftwareModel
    description: >-
      Captures the software components and their interactions within the system design.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - core_implementedBy
    attributes:
      system_SmSoftwareModel_softwareComponents:
        alias: softwareComponents
        title: software components
        description: The software components that make up this software model.
        range: system_SmSoftwareComponent
        multivalued: true
        inlined: true
        inlined_as_list: true
      system_SmSoftwareModel_deviceModel:
        alias: deviceModelId
        title: device model
        description: A device model associated with this software model.
        range: dm_configured_device_model
        required: false
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: sft_software_project
  system_SmSoftwareComponent:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmSoftwareComponent
    title: Software Component
    annotations:
      platformAPI: SysSmSoftwareComponent
    description: >-
      Represents a software component instance and its dependencies.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - system_parameters
    attributes:
      system_SmSoftwareComponent_specification:
        alias: specification
        title: specification
        range: system_SmSoftwareSpecification
        description: The specification of this software component.
      system_SmSoftwareComponent_dependencies:
        alias: dependencyIds
        title: dependencies
        description: The software components that this component depends on.
        range: system_SmSoftwareComponent
        multivalued: true
      system_SmSoftwareComponent_peripheralInstance:
        alias: peripheralInstanceId
        title: peripheral instance
        description: >- 
          The peripheral associated with this software component. 
          Used by drivers to bind to specific hardware peripherals.
        range: dm_peripheral_instance
        required: false
  system_SmSoftwareSpecification:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmSoftwareSpecification
    title: Software Specification
    annotations:
      platformAPI: SysSmSoftwareSpecification
    description: >-
      The "blueprint" for a software component. Captures the identity and 
      classification of the software independently of any specific instance.
    slots:
      - core_name
    attributes:
      system_SmSoftwareSpecification_category:
        alias: category
        title: category
        range: system_SmSoftwareComponentCategory
        description: The architectural role of this specification (e.g. DRIVER).
      system_SmSoftwareSpecification_ecosystem:
        alias: ecosystem
        title: ecosystem
        range: string
        description: The platform or framework (e.g., FSP).
      system_SmSoftwareSpecification_vendor:
        alias: vendor
        title: vendor
        range: string
        description: The organization providing the software (e.g. Renesas).
      system_SmSoftwareSpecification_version:
        alias: version
        title: version
        range: string
    slot_usage:
      core_name:
        description: The identifier within the ecosystem (e.g., module.driver.uart).

  # SDM: Hardware Model
  system_SmHardwareModel:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmHardwareModel
    title: Hardware Model
    annotations:
      platformAPI: SysSmHardwareModel
    description: >-
      Captures the hardware components and their interactions within the system design.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - core_implementedBy
    attributes:
      system_SmHardwareModel_hardwareComponents:
        alias: hardwareComponents
        title: hardware components
        description: The hardware components that make up this hardware model.
        range: system_SmHardwareComponent
        multivalued: true
        inlined: true
        inlined_as_list: true
      system_SmHardwareModel_functionalBlocks:
        alias: functionalBlockIds
        title: functional blocks
        description: A functional blocks associated with this hardware model.
        range: system_SmFunctionalBlock
        multivalued: true
    slot_usage:
      core_implementedBy:
        range: Any
        any_of:
          - range: des_project
  system_SmHardwareComponent:
    is_a: Resource
    in_subset: system-sdm
    class_uri: sys:SmHardwareComponent
    title: Hardware Component
    annotations:
      platformAPI: SysSmHardwareComponent
    description: >-
      Represents a hardware component / part.
    mixins:
      - system_SmMappableEntity
    slots:
      - core_name
      - system_parameters
    attributes:
      system_SmHardwareComponent_deviceModel:
        alias: deviceModelId
        title: device model
        description: A device model associated with this hardware component.
        range: dm_configured_device_model

slots:

  system_parameters:
    slot_uri: sys:parameters
    alias: parameters
    title: parameters
    description: TBD
    range: system_Parameter
    multivalued: true
    required: false
    inlined: true
    inlined_as_list: true